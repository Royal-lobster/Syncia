var C=Object.create;var f=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var $=(e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})},h=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of W(t))!A.call(e,n)&&n!==r&&f(e,n,{get:()=>t[n],enumerable:!(o=P(t,n))||o.enumerable});return e};var v=(e,t,r)=>(r=e!=null?C(L(e)):{},h(t||!e||!e.__esModule?f(r,"default",{value:e,enumerable:!0}):r,e)),D=e=>h(f({},"__esModule",{value:!0}),e);var R={};$(R,{default:()=>K});module.exports=D(R);var M=v(require("@parcel/diagnostic")),b=require("@parcel/plugin"),w=require("@parcel/utils"),u=require("svelte/compiler");var j=require("@parcel/utils");function O(e,t,r){let o={filePath:e.filePath,start:{line:r.start.line+Number(e.meta.startLine||1)-1,column:r.start.column+1},end:{line:r.end.line+Number(e.meta.startLine||1)-1,column:r.end.column+1}};return t&&(o=(0,j.remapSourceLocation)(o,t)),o}function d(e,t,r,o){let n=o.message||"Unknown error";o.code&&(n=`${n} (${o.code})`);let i={message:n};if(o.frame&&(i.hints=[o.frame]),o.start!==void 0&&o.end!==void 0){let{start:p,end:a}=O(e,t,o);i.codeFrames=[{filePath:e.filePath,code:r,language:"svelte",codeHighlights:[{start:p,end:a}]}]}return i}var S=v(require("@parcel/source-map")),m=require("path");function E(e,t){return t.startsWith("file://")&&(t=t.substring(7)),(0,m.isAbsolute)(t)?t:(0,m.join)(e,t)}function y(e,t,r,o){if(!o)return r;let n=(0,m.dirname)(t),i=new S.default(e.projectRoot);return i.addVLQMap({...o,sources:o.sources.map(p=>E(n,p))}),r&&i.extends(r.toBuffer()),i}var K=new b.Transformer({async loadConfig({config:e,options:t}){let r=await e.getConfig([".svelterc","svelte.config.js","svelte.config.cjs","svelte.config.mjs"],{packageKey:"svelte"}),o={};r&&typeof r.contents=="object"&&(o=r.contents,(r.filePath.endsWith(".js")||r.filePath.endsWith(".cjs"))&&e.invalidateOnStartup());let n=o.compilerOptions||o.compiler||{};return{compilerOptions:{dev:t.mode!=="production",css:"external",...n},preprocess:o.preprocess,filePath:r&&r.filePath}},async transform({asset:e,config:t,options:r,logger:o}){let[n,i]=await Promise.all([e.getCode(),e.getMap()]),p=n;try{let l={filename:(0,w.relativeUrl)(r.projectRoot,e.filePath),...t.compilerOptions||{}};if(t.preprocess){let s=await(0,u.preprocess)(n,t.preprocess,l);if(s.map&&(l.sourcemap=s.map),s.dependencies)for(let x of s.dependencies)e.invalidateOnFileChange(x);p=s.code}let c=(0,u.compile)(p,l);c.warnings?.forEach(s=>{l.css&&s.code==="css-unused-selector"||o.warn(d(e,i,p,s))});let g=[{type:"js",content:c.js.code,uniqueKey:`${e.id}-js`,map:y(r,e.filePath,i,c.js.map)}];return c.css&&c.css.code&&g.push({type:"css",content:c.css.code,uniqueKey:`${e.id}-css`,map:y(r,e.filePath,i,c.css.map)}),g}catch(a){throw new M.default({diagnostic:d(e,i,p,a)})}}});
